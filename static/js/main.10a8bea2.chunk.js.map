{"version":3,"sources":["redux/auth/auth-selectors.js","services/contactsApi.js","redux/contacts/contactsOperations.jsx","redux/auth/auth-slice.js","redux/contacts/contactsSlice.jsx","components/Container/Container.module.css","redux/auth/auth-operations.js","components/Container/Container.jsx","components/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.jsx","index.js"],"names":["authSelectors","getIsLoggedIn","state","auth","isLoggedIn","getUsername","user","name","getIsFetchingCurrent","isFetchingCurrentUser","fetchContacts","a","axios","get","data","addContact","contact","post","dltContact","id","delete","defaults","baseURL","createAsyncThunk","_","rejectWithValue","contactsApi","contacts","message","addContacts","items","deleteContacts","authSlice","createSlice","initialState","email","token","isFetchingCurrectUser","extraReducers","operations","register","fulfilled","action","payload","pending","error","rejected","logIn","logOut","fetchCurrentUser","contactsSlice","isLoading","filter","reducers","changeFilter","push","console","log","actions","module","exports","headers","common","Authorization","credentials","toast","response","thunkAPI","getState","persistedToken","Container","children","className","s","container","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","alignItems","avatar","marginRight","mapDispatchToProps","onLogout","authOperations","connect","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PrivateRoute","routeProps","PublicRoute","restricted","redirectTo","shouldRedirect","HomeView","lazy","RegisterView","LoginView","PhonebookView","App","dispatch","useDispatch","useEffect","fallback","path","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","thunk","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phoneBook","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","querySelector"],"mappings":"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","file":"static/js/main.10a8bea2.chunk.js","sourcesContent":["const getIsLoggedIn = (state) => state.auth.isLoggedIn;\nconst getUsername = (state) => state.auth.user.name;\n\nconst getIsFetchingCurrent = (state) => state.auth.isFetchingCurrentUser;\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsFetchingCurrent,\n};\nexport default authSelectors;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport async function fetchContacts() {\n  const { data } = await axios.get(\"/contacts\");\n  return data;\n}\n\nexport async function addContact(contact) {\n  const { data } = await axios.post(\"/contacts\", contact);\n\n  return data;\n}\n\nexport async function dltContact(id) {\n  await axios.delete(`/contacts/${id}`);\n  return id;\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport * as contactsApi from '../../services/contactsApi';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await contactsApi.fetchContacts();\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const addContacts = createAsyncThunk(\n  'contacts/addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const items = await contactsApi.addContact(contact);\n      return items;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const deleteContacts = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      await contactsApi.dltContact(id);\n\n      return id;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);","import { createSlice } from \"@reduxjs/toolkit\";\nimport operations from \"./auth-operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrectUser: false,\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [operations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [operations.register.pending](state) {\n      state.error = null;\n    },\n    [operations.register.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [operations.logIn.pending](state) {\n      state.error = null;\n    },\n    [operations.logIn.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = null;\n    },\n    [operations.logOut.pending](state, action) {\n      state.error = null;\n    },\n    [operations.logOut.rejected](state, action) {\n      state.error = action.payload.message;\n    },\n    [operations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrectUser = true;\n    },\n    [operations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrectUser = false;\n    },\n    [operations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrectUser = false;\n    },\n  },\n});\nexport default authSlice.reducer;\n","import {\n  addContacts,\n  deleteContacts,\n  fetchContacts,\n} from './contactsOperations';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst contactsSlice = createSlice({\n  name: 'phoneBook',\n  initialState: {\n    contacts: [],\n    isLoading: false,\n    filter: '',\n    error: null,\n  },\n  reducers: {\n    changeFilter: (state, action) => {\n      state.filter = action.payload;\n    },\n  },\n  extraReducers: {\n    [fetchContacts.fulfilled](state, action) {\n      state.contacts = action.payload;\n      state.isLoading = false;\n      state.error = null;\n    },\n    [fetchContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [fetchContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n\n    },\n\n    [addContacts.fulfilled](state, action) {\n      state.contacts.push(action.payload);\n      state.isLoading = false;\n      state.error = null;\n    },\n    [addContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [addContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n      console.log(action.payload);\n    },\n\n    [deleteContacts.fulfilled](state, action) {\n      state.contacts = state.contacts.filter(\n        contact => contact.id !== action.payload,\n      );\n      state.isLoading = false;\n      state.error = null;\n    },\n    [deleteContacts.pending](state) {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [deleteContacts.rejected](state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n      \n    },\n  },\n});\nexport default contactsSlice.reducer;\nexport const { changeFilter } = contactsSlice.actions;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport const register = createAsyncThunk(\n  \"auth/register\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/signup\", credentials);\n      token.set(data.token);\n      console.log(data);\n      return data;\n    } catch (error) {\n      toast.error(`Failed! Enter valid data`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const logIn = createAsyncThunk(\n  \"auth/login\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/login\", credentials);\n      token.set(data.token);\n\n      return data;\n    } catch (error) {\n      toast.error(` Enter valid Email and Password!`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const logOut = createAsyncThunk(\n  \"auth/logout\",\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post(\"/users/logout\");\n      token.unset();\n    } catch (error) {\n      toast.error(` Something goes wrong!`);\n      return rejectWithValue(error.response.data);\n    }\n  }\n);\n\nexport const fetchCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue();\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"#E84A5F\",\n  },\n};\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        Home\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink\n          to=\"/phonebook\"\n          exact\n          style={styles.link}\n          activeStyle={styles.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n//import { authSelectors, authOperations } from \"../../redux/auth\";\n//import defaultAvatar from \"./useravatar.png\";\nimport authSelectors from \"../../redux/auth/auth-selectors\";\nimport authOperations from \"../../redux/auth/auth-operations\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    marginRight: 4,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n  <div style={styles.container}>\n    <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n    <span style={styles.name}>Welcome, {name}</span>\n    <button type=\"button\" onClick={onLogout}>\n      Logout\n    </button>\n  </div>\n);\nconst mapStateToProps = (state) => ({\n  name: authSelectors.getUsername(state),\n});\n\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"#E84A5F\",\n  },\n};\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Registration\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Log in\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport Navigation from \"./Navigation\";\nimport UserMenu from \"./UserMenu/UserMenu\";\nimport AuthNav from \"./AuthNav\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid #2A363B\",\n  },\n};\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(authSelectors.getIsLoggedIn);\n  return (\n    <header style={styles.header}>\n      <Navigation />\n\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PrivateRoute({ children, ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  console.log(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { lazy, Suspense } from \"react\";\nimport Container from \"./components/Container/Container\";\nimport AppBar from \"./components/AppBar\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useDispatch /*useSelector*/ } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport { authOperations } from \"./redux/auth\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() => import(\"./views/HomeViews/HomeViews\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterViews/RegisterViews\"));\nconst LoginView = lazy(() => import(\"./views/LoginViews/LoginViews\"));\nconst PhonebookView = lazy(() =>\n  import(\"./views/PhoneBookViews/PhonebookView\")\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  // const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Container>\n        <AppBar />\n        <Switch>\n          <Suspense fallback={<p>Loading...</p>}>\n            <PublicRoute exact path=\"/\">\n              <HomeView />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/register\" restricted>\n              <RegisterView />\n            </PublicRoute>\n\n            <PublicRoute exact path=\"/login\" redirectTo=\"/phonebook\" restricted>\n              <LoginView />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/phonebook\">\n              <PhonebookView />\n            </PrivateRoute>\n          </Suspense>\n        </Switch>\n      </Container>\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </>\n  );\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsSlice from './contacts/contactsSlice';\nimport { logger } from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport authReducer  from './auth/auth-slice';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n  thunk,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n   \n    phoneBook: contactsSlice,\n  },middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/es/integration/react\";\nimport { persistor } from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}